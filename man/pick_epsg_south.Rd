% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/architecture.R
\name{pick_epsg_south}
\alias{pick_epsg_south}
\title{Heuristic Picker for UTM EPSG Codes in the U.S. South}
\usage{
pick_epsg_south(las)
}
\arguments{
\item{las}{An object with a valid bounding box understood by \pkg{sf}, such
as an \code{sf} or \code{sfc} geometry, or anything for which
\code{sf::st_bbox()} works.}
}
\value{
A \code{list} with components:
\describe{
  \item{epsg}{The selected EPSG code (integer).}
  \item{lon}{Center longitude of the transformed bounding box (degrees).}
  \item{lat}{Center latitude of the transformed bounding box (degrees).}
}
}
\description{
Chooses an appropriate projected CRS (EPSG) for a given spatial object by
scoring a small set of candidate UTM zones commonly used in the southern
United States. The score favors candidates whose transformed extent is
geographically plausible for the U.S. South, has a modest map width/height
(to avoid wildly distorted CRSs), and whose UTM zone matches the feature's
central longitude.
}
\details{
The function evaluates the bounding box under each candidate EPSG in
\code{c(32616, 26916, 32617, 26917, 32615, 26915)} (WGS 84 / UTM 15–17N and
NAD83 / UTM 15–17N). For each candidate it:
\enumerate{
  \item Transforms the box to WGS84 (\code{EPSG:4326}) and computes the
    center lon/lat.
  \item Measures great‐circle width and height (km) of the box using
    \code{sf::st_distance()} between midpoints of opposite edges.
  \item Builds a score as the sum of three binary checks:
    \itemize{
      \item \emph{geo:} center lies within a coarse southern U.S. window
        (\code{-105 < lon < -75}, \code{24 < lat < 37});
      \item \emph{siz:} extent size is reasonable (\code{0.5–20} km in both
        width and height);
      \item \emph{zone\_ok:} UTM zone implied by center longitude matches the
        candidate's zone number.
    }
}
The candidate with the highest score is returned; ties are broken by the
first maximum.
}
\note{
This is a lightweight heuristic intended for small to moderate AOIs in
UTM zones 15–17N across the southern/eastern U.S. It will return
\code{-Inf}-scored candidates as invalid and skip them; extremely large
extents or inputs outside the target region may yield suboptimal choices.
}
\examples{
\dontrun{
library(sf)
poly <- st_as_sfc(st_bbox(c(xmin=-90.2, ymin=29.9, xmax=-90.0, ymax=30.1), crs=4326))
pick_epsg_south(poly)
}
}
