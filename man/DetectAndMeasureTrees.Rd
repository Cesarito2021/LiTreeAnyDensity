% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main.R
\name{DetectAndMeasureTrees}
\alias{DetectAndMeasureTrees}
\title{Tree Detection and Diameter Measurement from 3D Point Cloud Data}
\usage{
DetectAndMeasureTrees(
  data_ref,
  eps_value,
  minPts_value,
  d1_m_minimum,
  d1_m_maximum,
  n_ransac_par,
  k_ransac_par,
  t_ransac_par,
  d_ransac_par
)
}
\arguments{
\item{data_ref}{A data frame or matrix with 3D point cloud coordinates (x, y, z) representing tree points.}

\item{eps_value}{The neighborhood radius parameter (epsilon) for the DBSCAN clustering algorithm.}

\item{minPts_value}{The minimum number of points required to form a dense region in DBSCAN.}

\item{d1_m_minimum}{Minimum accepted diameter (in meters) for valid RANSAC-detected circles (used for filtering).}

\item{d1_m_maximum}{Maximum accepted diameter (in meters) for valid RANSAC-detected circles (used for filtering).}

\item{n_ransac_par}{The minimum number of points required to attempt RANSAC fitting on a cluster.}

\item{k_ransac_par}{Number of iterations RANSAC should use to select minimal point sets.}

\item{t_ransac_par}{Distance threshold for inlier classification in RANSAC fitting.}

\item{d_ransac_par}{Maximum distance from the model to be considered as an inlier (tolerance).}
}
\value{
A `sf` object (simple features) containing the detected trees with the following columns:
\item{id}{Unique ID of the detected cluster/tree.}
\item{dbh_cm}{Estimated diameter at breast height (in centimeters).}
\item{g_m2}{Estimated basal area (in square meters).}
\item{geometry}{Polygon geometries representing buffered circles around tree stem positions.}
}
\description{
This function detects tree trunks and estimates their diameters using a combination of DBSCAN clustering and RANSAC-based circle fitting. It is designed for analyzing 3D point cloud data from forest environments and extracting tree-level structural metrics such as DBH and basal area.
The function performs density-based clustering, filters clusters by minimum point count, fits circles using RANSAC, and returns a shapefile containing estimated diameters and basal areas for each detected tree.
}
\examples{
\dontrun{
library(dbscan)
library(dplyr)
library(sf)
# Simulate a small dataset
set.seed(1)
data_sim <- data.frame(x = runif(100, 0, 10),
                       y = runif(100, 0, 10),
                       z = runif(100, 0, 2))
# Run the detection and measurement function
tree_results <- DetectAndMeasureTrees(data_ref = data_sim,
                                      eps_value = 0.5,
                                      minPts_value = 10,
                                      d1_m_minimum = 0.05,
                                      d1_m_maximum = 1.0,
                                      n_ransac_par = 30,
                                      k_ransac_par = 100,
                                      t_ransac_par = 0.01,
                                      d_ransac_par = 0.02)
print(tree_results)
}

}
