% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/architecture.R
\name{rotate_and_align_las}
\alias{rotate_and_align_las}
\title{Rotate and Align LAS Point Cloud to Vertical Axis}
\usage{
rotate_and_align_las(mesh, crs_code = 3035)
}
\arguments{
\item{mesh}{A mesh object containing vertex data, expected to have a component \code{vb} with 3D coordinates.}

\item{crs_code}{Numeric or character representing the Coordinate Reference System (CRS) code to assign to the LAS object. Default is EPSG:3035.}
}
\value{
A LAS object with rotated and vertically aligned coordinates, with updated CRS and basic classification fields.
}
\description{
This function rotates a 3D mesh represented by a LAS point cloud object so that its lowest surface points
are aligned with the vertical (Z) axis. It applies Principal Component Analysis (PCA) on the lowest 5th percentile
of points to estimate the normal vector, then uses Rodrigues' rotation formula to realign the mesh.
}
\details{
The function extracts vertex coordinates from the mesh, constructs a LAS object, estimates the ground plane via PCA on
the lowest 5% Z values, calculates the rotation matrix to align the ground plane normal to the vertical axis,
applies the rotation, and repositions the point cloud so the minimum Z is zero.
}
\examples{
\dontrun{
  las_aligned <- rotate_and_align_las(mesh_object)
}
}
